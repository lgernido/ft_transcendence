input {
  # Par exemple, lire des fichiers logs
  file {
    path => "/var/log/*.log"
    start_position => "beginning"  # Commencer à lire depuis le début des fichiers
    sincedb_path => "/dev/null"  # Ne pas conserver l'état de lecture des fichiers
  }
}

filter {
  # Filtrer les logs si nécessaire, par exemple, ajouter un champ de timestamp
  date {
    match => ["timestamp", "ISO8601"]
  }
}

output {
  elasticsearch {
    hosts => ["https://elasticsearch:9200"]
    user => "elastic"
    password => "securepassword"
    ssl => true
    cacert => "/certs/ca.crt"  # Si vous utilisez un certificat d'autorité
  }

  # (Optionnel) Si vous voulez aussi envoyer les logs à la sortie console
  stdout { codec => rubydebug }
}